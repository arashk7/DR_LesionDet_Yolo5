<!--<!DOCTYPE html>-->
<html lang="en">
<head>
<!--    <meta charset="UTF-8">-->
<!--    <title>Title</title>-->
    <script src="fabric.js"></script>
</head>
<body>
<canvas id="c" width="1000" height="1000" style="border:2px solid #000000"></canvas>

</body>
<script>
    window.onload = function () {
        var canvas = new fabric.Canvas('c');
        canvas.add(new fabric.Circle({radius: 30, fill: '#f55', top: 100, left: 100}));
        canvas.add(new fabric.Circle({radius: 30, fill: '#f55', top: 300, left: 100}));
        var img = new fabric.Image();
        // img.setAttribute("src", 'http://www.cdgdc.edu.cn/images/zzlkpt_left1pic20180419.jpg');
        // '../static/media/12_r1.jpg'

        fabric.Image.fromURL('http://localhost:5000/static/media/12_r1.jpg', (img) => {

            img.set({
                left: 0,
                top: 0
                // Scale image to fit width / height ?
            });

            img.scaleToHeight(canvas.height);
            img.scaleToWidth(canvas.width);

            canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas));

        })

        // var img1 = new Image();
        //
        // img.src = '../static/media/12_r1.jpg';
        // img.onload = function() {
        //
        //     this.width = this.width;
        //     this.height = this.height;
        //
        //
        //     img.set({
        //         left: 0,
        //         top: 0
        //         // Scale image to fit width / height ?
        //     });
        //     img.scaleToHeight(canvas.height);
        //     img.scaleToWidth(canvas.width);
        //     // subsequent image loads will be forced to this first image's size
        //
        //
        // }


// canvas.renderAll();
        // canvas.setBackgroundImage('../static/media/12_r1.jpg', canvas.renderAll.bind(canvas));
        canvas.selectionColor = 'rgba(100,100,100,0.3)';
        canvas.selectionBorderColor = 'green';
        canvas.selectionLineWidth = 5;
    }
 </script>
</html>